<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <title>404</title>

  <!-- Font: Press Start 2P -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <!-- Default theme -->
  <link id="themeStylesheet" rel="stylesheet" href="st1.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cannon/0.6.2/cannon.min.js"></script>

  <!-- Additional CSS for Loot Box block -->
  <style>
   .case-container {
     flex-direction: column;
     align-items: center;
     justify-content: center;
     margin-top: -60px;
     text-align: center;
     position: relative;
     top: 50px;
     display: inline-block;
     transition: top 0.5s ease;
   }
   .case-container.open {
     top: 20px;
   }
   .case-container img {
     display: block;
     margin: 0 auto;
     width: 330px;
     height: 330px;
     transition: width 0.5s ease, height 0.5s ease, transform 0.5s ease;
   }
   .case-container.open img {
     width: 500px;
     height: 500px;
     transform: translateY(-30px);
   }
   .explode {
     animation: explode 0.8s ease-out forwards;
   }
   @keyframes explode {
     0% {
       transform: scale(1) rotate(0deg);
       opacity: 1;
       filter: brightness(1);
     }
     50% {
       transform: scale(1.3) rotate(20deg);
       opacity: 0.8;
       filter: brightness(1.2);
     }
     70% {
       transform: scale(1.1) rotate(10deg);
       opacity: 0.9;
       filter: brightness(1.1);
     }
     100% {
       transform: scale(2.5) rotate(45deg);
       opacity: 0;
       filter: brightness(0.5);
     }
   }
   .case-container p {
     position: absolute;
     bottom: 420px;
     left: 50%;
     transform: translateX(-50%);
     font-weight: bold;
     margin: 0;
     pointer-events: none;
     z-index: 1;
   }
   .lootbox-buttons {
     position: relative;
     z-index: 10;
     transition: opacity 0.5s ease;
     display: flex;
     gap: 10px;
     margin-top: 80px;
   }
   .case-container.open .lootbox-buttons {
     opacity: 0;
     pointer-events: none;
   }
  </style>

  <!-- Telegram Web App API -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/gifler@0.1.0/gifler.min.js"></script>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
  <!-- Header -->
  <header>
    <a href="soon.html" id="walletLink" class="walletLink" style="position: absolute; top: 5px; left: 10px;">
      <img src="https://raw.githubusercontent.com/qnexst/404token/main/wallet.png" alt="Wallet" width="45" height="45"/>
    </a>
    <div class="user-info">
      <img id="userPhoto" src="" alt="Avatar"/>
      <span id="username">@User</span>
    </div>
    <div class="balances">
      <span>
        <img src="https://raw.githubusercontent.com/qnexst/404token/main/ticket.png" alt="Tickets" width="20"/>
        <span id="ticketCount">0</span>
      </span>
      <span>
        <img src="https://raw.githubusercontent.com/qnexst/404token/main/token.png" alt="Coins" width="20"/>
        <span id="coinCount">0</span>
      </span>
      <span>
        <img src="https://raw.githubusercontent.com/qnexst/404token/main/star.png" alt="Points" width="20"/>
        <span id="pointCount">0</span>
      </span>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- PLAY SECTION -->
    <section id="playSection" class="section active">
      <div class="games-section">
        <h3>
          <span id="mainOnlineHeaderText">Online Games</span>
          <button id="mainOnlineInfoBtn" class="info-button" onclick="openMainOnlineInfoModal()">Info</button>
        </h3>
        <div class="games-gallery">
          <div class="game-card">
            <img src="https://raw.githubusercontent.com/qnexst/404token/main/1.jpg" alt="Special Game">
            <p id="gameCard1Title">Snake Online</p>
            <button id="gameCard1Button" onclick="window.location.href='specialgame.html'">Play</button>
          </div>
        </div>
      </div>

      <div class="games-section">
        <h3>
          <span id="miniGamesHeaderText">Mini-Games</span>
          <button id="miniGamesInfoBtn" class="info-button" onclick="openMiniGamesInfoModal()">Info</button>
        </h3>
        <div class="games-gallery">
          <!-- Игра STACK (game2) – при нажатии происходит переход на stack.html без списания билетов -->
          <div class="game-card">
            <img src="https://i.pinimg.com/736x/ed/0d/12/ed0d1214bfce57bc73d3207f47ac1d9e.jpg" alt="Match-3">
            <p id="gameCard2Title">PAC-MAN</p>
            <button id="gameCard2Button" onclick="openGameInfoModal({
              gameId: 'game2',
              title: 'PAC-MAN',
              img: 'https://i.pinimg.com/736x/ed/0d/12/ed0d1214bfce57bc73d3207f47ac1d9e.jpg',
              desc: 'Pac-Man is a classic arcade game in which each dot gives you one star.',
              cost: 1
            })">Play</button>
          </div>
          <!-- Игра TETRIS (game3) – списываются билеты и запускается игра -->
          <div class="game-card">
            <img src="https://raw.githubusercontent.com/qnexst/404token/main/tetris.jpg" alt="Game 3">
            <p id="gameCard3Title">TETRIS</p>
            <button id="gameCard3Button" onclick="openGameInfoModal({
              gameId: 'game3',
              title: 'TETRIS',
              img: 'https://raw.githubusercontent.com/qnexst/404token/main/tetris.jpg',
              desc: 'Tetris is a classic tile-matching puzzle game. Each cleared row awards you 30 stars.',
              cost: 1
            })">Play</button>
          </div>
          <div class="game-card">
            <img src="https://i.pinimg.com/736x/ea/b7/75/eab775a90814f5df05466cc7ea4c590c.jpg" alt="Space Explorer">
            <p id="gameCard4Title">Crossy Road</p>
            <button id="gameCard4Button" onclick="openGameInfoModal({
              gameId: 'game4',
              title: 'Crossy Road',
              img: 'https://i.pinimg.com/736x/ea/b7/75/eab775a90814f5df05466cc7ea4c590c.jpg',
              desc: 'Crossy Road is a fast-paced arcade game where every step earns you 1 star.',
              cost: 1
            })">Play</button>
          </div>
          <!-- Новая карточка для Breakout -->
          <div class="game-card">
            <img src="https://raw.githubusercontent.com/qnexst/404token/main/breakout.jpg" alt="Breakout">
            <p id="gameCard7Title">Breakout</p>
            <button id="gameCard7Button" onclick="openGameInfoModal({
              gameId: 'breakout',
              title: 'Breakout',
              img: 'https://raw.githubusercontent.com/qnexst/404token/main/breakout.jpg',
              desc: 'Breakout is a classic arcade game where each broken brick awards you 5 stars.',
              cost: 1
            })">Play</button>
          </div>
        </div>
      </div>

      <div class="games-section">
        <h3>
          <span id="partnerGamesHeaderText">Partner Games</span>
          <button id="partnerInfoBtn" class="info-button" onclick="openPartnerInfoModal()">Info</button>
        </h3>
        <div class="games-gallery">
         <div class="game-card">
  <img src="https://img.icons8.com/ios-filled/50/00000/handshake.png" alt="Partner Game">
  <p id="gameCard5Title">Partner Game</p>
  <!-- Скрываем кнопку Play до момента, когда она станет доступной -->
  <button id="gameCard5Button" style="display: none;" onclick="openGameInfoModal({ 
              gameId: 'partnergame1',
              title: 'soon',
              img: 'https://img.icons8.com/ios-filled/50/00000/handshake.png',
              desc: 'Game from our partner.',
              cost: 1
            })">Play</button>
</div>

        </div>
      </div>
    </section>

    <!-- TICKETS SECTION -->
    <section id="ticketsSection" class="section">
      <h2 id="ticketsHeader">Tickets</h2>
      <div class="wheel-container">
        <div class="wheel" id="wheel">
          <div class="slice slice1">
            <img width="24" height="32" src="https://raw.githubusercontent.com/qnexst/404token/main/ticket.png" alt="ticket"/>
            <span>2</span>
          </div>
          <div class="slice slice2">
            <img width="24" height="32" src="https://raw.githubusercontent.com/qnexst/404token/main/ticket.png" alt="ticket"/>
            <span>5</span>
          </div>
          <div class="slice slice3">
            <img width="24" height="32" src="https://raw.githubusercontent.com/qnexst/404token/main/ticket.png" alt="ticket"/>
            <span>8</span>
          </div>
          <div class="slice slice4">
            <img width="24" height="32" src="https://raw.githubusercontent.com/qnexst/404token/main/ticket.png" alt="ticket"/>
            <span>10</span>
          </div>
          <div class="slice slice5">
            <img width="24" height="32" src="https://raw.githubusercontent.com/qnexst/404token/main/ticket.png" alt="ticket"/>
            <span>13</span>
          </div>
          <div class="slice slice6">
            <img width="24" height="32" src="https://raw.githubusercontent.com/qnexst/404token/main/ticket.png" alt="ticket"/>
            <span>15</span>
          </div>
        </div>
        <div class="wheel-pointer"></div>
        <div class="tickets-actions">
          <button id="spinButton" onclick="spinWheel()">Free Spin</button>
          <button id="buyTicketsBtn" onclick="buyTickets()">Buy Tickets</button>
        </div>
        <div class="spin-result" id="spinResult"></div>
      </div>
    </section>

    <!-- LEADERBOARD SECTION -->
    <section id="leaderboardSection" class="section">
      <h2 id="leaderboardHeader">Leaderboard</h2>
       <h2 id="leaderboardHeader">Season 1</h2>
      <button class="info-button" onclick="openSeasonInfoModal()">Info</button>
      <div class="leaderboard-container">
        <table id="leaderboardTable">
          <thead>
            <tr>
              <th>№</th>
              <th>Username</th>
              <th>Points</th>
              <th>Prize</th>
            </tr>
          </thead>
          <tbody id="leaderboardTop10">
            <!-- Top-10 players with prizes -->
          </tbody>
          <tbody id="leaderboardRest">
            <!-- Other players -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- LOOT BOX SECTION -->
    <section id="referralSection" class="section">
      <h2 id="referralHeader">ㅤㅤ</h2>
      <h2 id="referralHeader">Bug Packs</h2>
      <button class="info-button" onclick="openLootBoxInfoModal()">Info</button>
      <div class="case-container">
        <img id="caseImage" src="https://raw.githubusercontent.com/qnexst/404token/main/case.png" alt="Cyber Case">
      </div>
      <div class="lootbox-container" id="lootboxContainer" style="display: none;">
        <div class="lootbox-indicator"></div>
        <div class="lootbox-roulette" id="lootboxRoulette">
          <!-- Prizes will be added dynamically -->
        </div>
      </div>
      <div class="lootbox-buttons">
        <button id="openBtn" onclick="openLootBox()">open (0)</button>
        <button id="openForTokenBtn" onclick="spinLootBoxForTokens()">
          <span>Open for 5m tokens</span><br>
          <span></span>
        </button>
      </div>
    </section>
  </main>

  <!-- Bottom Navigation -->
  <nav id="mainNav">
    <button onclick="showSection('playSection')">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/playing.png" alt="Play" id="navPlayAlt"/>
    </button>
    <button onclick="showSection('ticketsSection')">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/ticket.png" alt="Tickets" id="navTicketsAlt"/>
    </button>
    <button onclick="showSection('leaderboardSection')">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/trophy.png" alt="Leaderboard" id="navLeaderboardAlt"/>
    </button>
    <button onclick="showSection('referralSection')">
      <img src="https://img.icons8.com/ios-filled/50/question-mark.png" alt="Cyber Case" id="navReferralAlt"/>
    </button>
  </nav>

  <!-- Global Modal -->
  <div class="modal-backdrop" id="globalModalBackdrop">
    <div class="modal">
      <h2 id="globalModalTitle">Message</h2>
      <p id="globalModalMessage"></p>
      <button class="close-modal" onclick="closeGlobalModal()">OK</button>
    </div>
  </div>

  <!-- Season Info Modal -->
  <div class="modal-backdrop" id="seasonModalBackdrop">
    <div class="modal modal-season">
      <h2 id="seasonModalTitle">Season Information</h2>
      <p id="seasonModalDesc">Season 1: The season lasts for 1 week, and at the end of it, each of the top 10 players will automatically receive BUG PACKs.</p>
      <button class="close-modal" onclick="closeSeasonModal()">Close</button>
    </div>
  </div>

  <!-- Modal for Loot Box Info -->
  <div class="modal-backdrop" id="lootBoxInfoModal">
    <div class="modal">
    
      <h2 id="lootBoxInfoTitle">Bug Pack Info</h2>
      <p id="lootBoxInfoDesc">
  Prizes and Chances:<br>
  - 3 tickets (10%)<br>
  - 5 tickets (5%)<br>
  - 10 tickets (8%)<br>
  - 8 tickets (4%)<br>
  - One case (5%)<br>
  - 100 points (10%)<br>
  - 500 points (5%)<br>
  - 1M tokens (3%)<br>
  - 3M tokens (2%)<br>
  - 5M tokens (1%)<br>
  - NFT Red (1%) – Special<br>
  - NFT Yellow (2%) – Legendary<br>
  - NFT Green (3%) – Rare<br>
 
  - 1000 points (2%)
</p>

      <button class="close-modal" onclick="closeLootBoxInfoModal()">Close</button>
    </div>
  </div>

  <!-- Modal for Game Info -->
  <div class="modal-backdrop" id="gameInfoModal">
    <div class="modal">
      <img id="gameInfoImg" src="" alt="Game Image" style="max-width:100px; display:block; margin:0 auto 10px;" />
      <h2 id="gameInfoTitle" style="text-align:center;"></h2>
      <p id="gameInfoDesc"></p>
      <button id="gameInfoPlayBtn">Play</button>
      <button class="close-modal" onclick="closeGameInfoModal()">Close</button>
    </div>
  </div>

  <!-- Spin Result Modal -->
  <div class="modal-backdrop" id="spinModalBackdrop">
    <div class="modal">
      <h2 id="spinModalTitle">You won <span id="wheelTicketCount"></span> tickets!</h2>
      <button class="close-modal" onclick="closeSpinModal()">OK</button>
    </div>
  </div>

  <!-- Fullscreen Game Modal -->
  <div class="game-modal-backdrop" id="gameModalBackdrop">
    <div class="game-modal-content">
      <div class="game-canvas">
         <!-- Оставлен только canvas для TETRIS (game3) -->
         <canvas id="game3Canvas" width="400" height="740" style="display: none; position: relative; top: -0px;"></canvas>
      </div>
    </div>
  </div>

  <!-- Endgame Modal -->
  <div class="endgame-backdrop" id="endgameBackdrop">
    <div class="endgame-modal">
      <h2 id="endgameTitle">Result</h2>
      <p id="endgameMessage"></p>
      <button class="close-modal" onclick="finishGame()">Close</button>
    </div>
  </div>

  <!-- Modal for Main Online Games Info -->
  <div class="modal-backdrop" id="mainOnlineInfoModal">
    <div class="modal">
      <h2 id="mainOnlineInfoTitle">Online Games</h2>
      <p id="mainOnlineInfoDesc">The online games section features a collection of arcade challenges where players can place token bets for bigger rewards or play for free without tickets and tokens, offering flexible mechanics that cater to both competitive and casual gamers in a fast-paced, engaging environment.</p>
      <button class="close-modal" onclick="closeMainOnlineInfoModal()">Close</button>
    </div>
  </div>

  <!-- Modal for Mini Games Info -->
  <div class="modal-backdrop" id="miniGamesInfoModal">
    <div class="modal">
      <h2 id="miniGamesInfoTitle">Mini Games Info</h2>
      <p id="miniGamesInfoDesc">Players participate in mini games for tickets, earning points for their activity. Every 7 days, top 10 players receive BUG PACKS.</p>
      <button class="close-modal" onclick="closeMiniGamesInfoModal()">Close</button>
    </div>
  </div>

  <!-- Modal for Partner Games Info -->
  <div class="modal-backdrop" id="partnerInfoModal">
    <div class="modal">
      <h2 id="partnerInfoTitle">Partner Games</h2>
      <p id="partnerInfoDesc">Game from our partner.</p>
      <button class="close-modal" onclick="closePartnerInfoModal()">Close</button>
    </div>
  </div>

  <!-- Modal for Deposit -->
  <div class="modal-backdrop" id="depositModal">
    <div class="modal">
      <h2 id="depositModalTitle">Not enough Tokens</h2>
      <p id="depositModalDesc">You do not have enough coins to play. Please top up your balance.</p>
      <button class="close-modal" onclick="closeDepositModal()">Close</button>
    </div>
  </div>

  <!-- Include game scripts and main script -->
  <script src="game1.js"></script>
  <script src="game2.js"></script>
  <script src="partnergame1.js"></script>
  <script src="game3.js"></script>
  <script src="game4.js"></script>
  <script src="game5.js"></script>
  <script src="game6.js"></script>
  <script src="case.js"></script>
  <!-- Подключение нового файла breakout.js -->
  <script src="breakout.js"></script>
  <!-- Обфусцированный inline JS -->
  <script>
  (function(){
    var _0xencoded = "PHNjcmlwdD4KLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN0YXJ0IG9mIHRoZSBJbnNpZGUgSlMgQ29kZSBzZWN0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLwoKY29uc3QgZmlyZWJhc2VDb25maWcgPSB7CiAgYXBpS2V5OiAiQUl6YVN5QXB4cDBkSEE0blpWZnBPcWxvSjkyZGVrajVleTNGIiwKICBhdXRoRG9tYWluOiAibWV0YS1nbGl0Y2gucmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsCiAgcHJvamVjdElkOiAibWV0YS1nbGl0Y2giLAogIHN0b3JhZ2VCdWNrZXQ6ICJtZXRhLWdsaXRjaC5maXJlYmFzZXN0b3JhZ2UuYXBwIiwKICBtZXNzYWdpbmdTZW5kZXJJZDogIjE4NjE2Mjg3OTcwIiwKICBhcHBJZDogIjE6MTg2MTYyODc5NzA6d2VsYzpodWJAdjgxL2JlNzkyNWI5NjA4MTM1MDA2YmU3MzY0ZiIsCiAgbWVhc3VyZW1lbnRJZDogIkctMVRYVkg4TUVTRCIKfTsKCmZpcmViYXNlLmluaXRpYWxpemVBcHkoZmlyZWJhc2VDb25maWcpOwoKY29uc3QgZGIgPSBmaXJlYmFzZS5kYXRhYmFzZSgpOwoKLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFRlbGVncmFtIFdlYiBBcHAgU2V0dXAgLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29uc3QgdGcgPSB3aW5kb3cuVGVsZWdyYW0uV2ViQXBwOwoKdGcuZXhwYW5kKCk7CgovLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEdsb2JhbCBWYXJpYWJsZXMgJiBVc2VyIERhdGEgU2VjdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29uc3QgY3VycmVudFVzZXIgPSBudWxsOwoKY29uc3QgdXNlclJlZiA9IGRiLnJlZih1c2Vycy8rY3VycmVudFVzZXIudXNlcm5hbWUpOwoKbGV0IGxvY2FsVXNlckRhdGEgPSB7CiAgcGhvdG86ICcnLAogIHRpY2tldHM6IDAsCiAgY29pbnM6IDAsCiAgcG9pbnRzOiAwLAogIGxhc3RTcGluVGltZTogMCwKICBkYXRhQ2hpcDogZmFsc2UsCiAgY3liZXJDYXNlOiAwLAogIG5mdHM6IFtdCiB9OwoKbGV0IGdhbWVJblByb2dyZXNzID0gZmFsc2U7Cgp2YXQgX3RvVXBkYXRlVG9wQXIoKSA9IGZ1bmN0aW9uKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpY2NvbnRUb3VudCcpLnRleHRDb250ZW50ID0gbG9jYWxVc2VyRGF0YS50aWNrZXRzOwp9OwoKZnVuY3Rpb24gdXBkYXRlU3BpblRCdXR0b24oKSB7CiAgY29uc3QgYnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BpbkJ1dHRvbicpOwogIGNvbnN0IG5vdyA9IERhdGUubm93KCk7CiAgY29uc3QgbGFzdCA9IGxvY2FsVXNlckRhdGEubGFzdFNwaW5UaW1lIHx8IDA7CiAgY29uc3QgZGlmZiA9IG5vdyAtIGxhc3QgOwpjb25zdCB3YWl0ID0gMjQgKiA2MDAgKiA2MCAtIGRpZmY7CiAgaWYod2FpdCA8PSAwKSB7CiAgICBidC50ZXh0Q29udGVudCA9ICJTaXAiOwogICAgYnQuZGlzYWJsZWQgPSBmYWxzZTsKICB9IGVsc2UgewogICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3Iod2FpdC8xMDApICU2MDsKICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHdhaXQgKCAqIDEwMC8oMTAwICogNjApKSAlNjA7CiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Iod2FpdCAqIDEwMC8oMTAwICogNjApKTsKICAgIGJ0LnRleHRDb250ZW50ID0gIlNwaW4gKCIgKyBob3Vycy50b1N0cmluZygwKSArICI6IiArIG1pbnV0ZXMudG9TaW5nKDApICsgIjoiICsgc2Vjb25kcy50b1N0cmluZygwKSArICI6IiArIGJ0c1RleHQoKSI7CiAgICBidC5kaXNhYmxlZCA9IHRydWU7CiAgfQp9CgpzZXRUaW1lcih1cGRhdGVTcGludEJ1dHRvbik7CgovLyAqIE9iZnVzY2F0ZWQgSW5saW5lIEpTIGNvZGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8qIEFuZCB0aGlzIGlzIHRoZSBzdHJhdGVneSBwYXNzd29yZCwgaXQgaXMgYW4gZXhhbXBsZSBvZiBvYmZ1c2NhdGlvbi4gSXRzIGJhc2UgNjQgZW5jb2RlZCBzdHJpbmcgaXMgcmVtYWluZWQgYWxzby4gKi8KZnVuY3Rpb24gdXBkYXRlVG9wQXIoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpY2tDb3VudCcpLnRleHRDb250ZW50ID0gbG9jYWxVc2VyRGF0YS50aWNrZXRzIHx8IDA7Cn0KCmZ1bmN0aW9uIHNob3dHbG9iYWxNb2RhbCh0aXRsZSwgbWVzc2FnZSkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbG9iYWxNb2RhbFRpdGxlJykudGV4dENvbnRlbnQgPSB0aXRsZTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsTW9kYWxNb2RhbU1lc3NhZ2UnKSB0ZXh0Q29udGVudCA9IG1lc3NhZzsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xvYmFsTW9kYWxNb2RhbUJhY2tkJykgY2xhc3MgPSAnYWN0aXZlJzsKfQoKLy8gQWRkaXRpb24gb2YgZnVuY3Rpb24gZm9ybWF0Q29pbnMoY29pbnMpIHdoaWNoIGZvcm1hdHMgbnVtYmVycywgc2FmZSBmb3IgZGlzcGxheWluZyB0aGUgY29pbnMgKQoKZnVuY3Rpb24gZm9ybWF0Q29pbnMoY29pbnMpIHsKICBpZiAoY29pbnMgPCAxMDAwMDAwMDApIHJldHVybiAoY29pbnMgLyAxMDAwMDAwMDApLml0b0ZpeGVkKDApLnJlcGxhY2UoLy5wYXN0ZXI6JywgJyRicicpICsgJ2InOwogIGVsc2UgaWYgKGNvaW5zID49IDEwMDAwMDAwMCkgewogICAgcmV0dXJuIChjb2lucyAvIDEwMDAwMDAwMCkuZml4ZWQoMCkucmVwbGFjZSgvLnBhc3RlcjonLCAnJHNtJykgKyAnbWEnOwogIH0gZWxzZSBpZiAoY29pbnMgPCAxMDAwKSB7CiAgICByZXR1cm4gKGNvaW5zIC8gMTAwMCkuZml4ZWQoMCkucmVwbGFjZSgvLnBhc3RlcjonLCAnJHNtJykgKyAnaycpOwogIH0KICByZXR1cm4gY29pbnM7Cn0KCnVuY3Rpb24gdXBkYXRlVG9wQXIoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpY2tDb3VudCcpLnRleHRDb250ZW50ID0gbG9jYWxVc2VyRGF0YS50aWNrZXRzIHx8IDA7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvaW5Db3VudCcpLnRleHRDb250ZW50ID0gZm9ybWF0Q29pbnMobG9jYWxVc2VyRGF0YS5jb2lucyB8fCAwKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9pbnRDb3VudCcpLnRleHRDb250ZW50ID0gbG9jYWxVc2VyRGF0YS5wb2ludHMgfHwgMDsKfQoKLy8gVXBkYXRlIHRoZSB0b3AgYmFyIGFuZCB0aGUgY2FzZSBjb3VudApmdW5jdGlvbiB1cGRhdGVDYXNlQ291bnQoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wZW4oKSApLnRleHRDb250ZW50ID0gYGlwZW4gKCR7bG9jYWxVc2VyRGF0YS5jeWJlckNhc2V9YDsKYWRkKCgidXRpbCcpKTsKfQoKLy8gU2V0IGludGVydmFsIHRvIHVwZGF0ZSB0aGUgc3BpbkJ1dHRvbi4Kc2V0SW50ZXJ2YWwodXBkYXRlU3BpbkJ1dHRvbicsIDEwMDApOwoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tIE9yaWdpbmFsIG9mIHRoZSBpbmxpbmUgSlMgQ29kZSBzZWN0aW9uIGVuZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEVuZCBvZiBvYmZ1c2NhdGVkIGV4ZWN1dGlvbi4KLy8gUGxlYXNlIG1ha2Ugb3VyIGRlY29kaW5nIG1lYW5zIHRoYXQgYWxsIGZ1bmN0aW9ucyB3aWxsIGZ1bmN0aW9uIGFzIGJldG9sIGFzIGJlZm9yZSBhYm9ydC4KLy8gRm9yIGV4YW1wbGUsIGlmIHRoZSBjb2RlIGlzIG1vZGlmaWVkLCBhbGVydChcIlRhbXBlcmluZyBkZXRlY3RlZCBcIik7Cml2YXIgbm90ZSA9IERhdGUubm93KCk7CmlmKGV2YWwoImxvY2FsVXNlckRhdGEiKSAmJiB1c2VyUmVmKSB7CiAgLy8gTW9yZSB0ZXN0cy4uLgoJdXNlclJlZi5vblxuKCdkYXRhJywgZnVuY3Rpb24oc25hcHNob3QpIHsKCSAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmF2YWwgfHwgeyB9OwoJICBsb2NhbFVzZXJEYXRhID0gewogICAgcGhvdG86IGRhdGEucGhvdG8gfHwgJycsCiAgICB0aWNrZXRzOiBkYXRhLnRpY2tldHMsCiAgICBjb2luczogZGF0YS5jb2lucywKICAgIHBvaW50czogZGF0YS5wb2ludHMsCiAgICBsYXN0U3BpbnRUaW1lOiBkYXRhLmxhc3RTcGluVGltZSwKICAgIGRhdGFDaGlwOiBkYXRhLmRhdGFDaGlwLAogICAgY3liZXJDYXNlOiBkYXRhLmN5YmVyQ2FzZSwKICAgIG5mdHM6IGRhdGEubnRzCiAgfTsKCSAgdXBkYXRlVG9wQXIoKTsKICB1cGRhdGVTcGluQnV0dG9uKCk7CiAgdXBkYXRlQ2FzZUNvdW50KCk7CiAgfSk7CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVuZCBvZiBvYmZ1c2NhdGVkIEpTIGNvZGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEVuZCBvZiB0aGUgb2JmdXNjYXRlZCBzY3JpcHQKPC9zY3JpcHQ+";
    var _0xdecoded = atob(_0xencoded);
    eval(_0xdecoded);
  })();
  </script>
</body>
</html>
